{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\carla\\\\OneDrive\\\\Desktop\\\\PI\\\\client\\\\src\\\\components\\\\Filters\\\\Filters.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getBreedsByName, setByNameResponse, setDisplayBreeds } from '../../redux/actions';\nimport BreedName from './Categories/BreedName';\nimport Temperament from './Categories/Temperament';\nimport Sorts from './Sorts';\nimport styles from './Filters.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Filters = _ref => {\n  _s();\n  let {\n    setPageNumber\n  } = _ref;\n  const dispatch = useDispatch();\n  const [filterByName, setFilterByName] = useState([]);\n  const [filterByTemperament, setFilterByTemperament] = useState([]);\n  const breeds = useSelector(state => state.breeds);\n  const breedsByName = useSelector(state => state.breedsByName);\n  useEffect(() => {\n    setPageNumber(1);\n    const tempsBreeds = filterBreedsTemps();\n    const nameBreeds = filterBreedsByName();\n    dispatch(setByNameResponse(''));\n    if (tempsBreeds.length && nameBreeds.length) {\n      dispatch(setDisplayBreeds(nameBreeds.filter(dog => tempsBreeds.includes(dog))));\n    } else if (tempsBreeds.length) {\n      dispatch(setDisplayBreeds(tempsBreeds));\n    } else {\n      dispatch(setDisplayBreeds(nameBreeds));\n    }\n    //eslint-disable-next-line\n  }, [filterByName, filterByTemperament]);\n  const filterBreedsByName = () => {\n    if (breedsByName.length) {\n      return breedsByName.filter(breed => {\n        return filterByName.includes(breed.id);\n      });\n    }\n    return breeds.filter(breed => {\n      return filterByName.includes(breed.id);\n    });\n  };\n  const filterBreedsTemps = () => {\n    if (breedsByName.length) {\n      return breedsByName.filter(breed => {\n        return filterByTemperament.every(temp => {\n          var _breed$temperaments;\n          return ((_breed$temperaments = breed.temperaments) === null || _breed$temperaments === void 0 ? void 0 : _breed$temperaments.indexOf(temp)) >= 0;\n        });\n      });\n    }\n    return breeds.filter(breed => {\n      return filterByTemperament.every(temp => {\n        var _breed$temperaments2;\n        return ((_breed$temperaments2 = breed.temperaments) === null || _breed$temperaments2 === void 0 ? void 0 : _breed$temperaments2.indexOf(temp)) >= 0;\n      });\n    });\n  };\n  const clearFilters = () => {\n    dispatch(setDisplayBreeds(breeds));\n    document.querySelectorAll('input[type=checkbox]').forEach(el => el.checked = false);\n    document.querySelector('input[type=text]').value = '';\n    document.querySelectorAll('select')[0].selectedIndex = 0;\n    dispatch(setByNameResponse(''));\n    dispatch(getBreedsByName(''));\n    setFilterByName([]);\n    setFilterByTemperament([]);\n  };\n  useEffect(() => {\n    document.querySelector('input[type=text]').value = '';\n  }, [clearFilters]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.container,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.sorts,\n        children: /*#__PURE__*/_jsxDEV(Sorts, {\n          setPageNumber: setPageNumber\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.clearButton,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: clearFilters,\n          children: \"Clear Filters\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 45\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.filtersContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.nameContainer,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.title,\n            children: \"Filter By Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(BreedName, {\n            filterByName: filterByName,\n            setFilterByName: setFilterByName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.temperamentContainer,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.title,\n            children: \"Filter By Temperaments\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Temperament, {\n            filterByTemperament: filterByTemperament,\n            setFilterByTemperament: setFilterByTemperament\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(Filters, \"+COu6vV+0CZo8oLdKT11Ojj82CE=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n_c = Filters;\nexport default Filters;\nvar _c;\n$RefreshReg$(_c, \"Filters\");","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","getBreedsByName","setByNameResponse","setDisplayBreeds","BreedName","Temperament","Sorts","styles","Filters","setPageNumber","dispatch","filterByName","setFilterByName","filterByTemperament","setFilterByTemperament","breeds","state","breedsByName","tempsBreeds","filterBreedsTemps","nameBreeds","filterBreedsByName","length","filter","dog","includes","breed","id","every","temp","temperaments","indexOf","clearFilters","document","querySelectorAll","forEach","el","checked","querySelector","value","selectedIndex","container","sorts","clearButton","filtersContainer","nameContainer","title","temperamentContainer"],"sources":["C:/Users/carla/OneDrive/Desktop/PI/client/src/components/Filters/Filters.jsx"],"sourcesContent":["import React from 'react';\r\nimport { useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getBreedsByName, setByNameResponse, setDisplayBreeds } from '../../redux/actions'\r\nimport BreedName from './Categories/BreedName';\r\nimport Temperament from './Categories/Temperament';\r\nimport Sorts from './Sorts';\r\nimport styles from './Filters.module.css';\r\n\r\nconst Filters = ({ setPageNumber }) => {\r\n\r\n  const dispatch = useDispatch();\r\n  const [filterByName, setFilterByName] = useState([]);\r\n  const [filterByTemperament, setFilterByTemperament] = useState([]);\r\n  const breeds = useSelector(state => state.breeds);\r\n  const breedsByName = useSelector(state => state.breedsByName);\r\n\r\n  useEffect(() => {\r\n    setPageNumber(1);\r\n    const tempsBreeds = filterBreedsTemps();\r\n    const nameBreeds = filterBreedsByName();\r\n    dispatch(setByNameResponse(''));\r\n    if(tempsBreeds.length && nameBreeds.length) {\r\n      dispatch(setDisplayBreeds(nameBreeds.filter(dog => tempsBreeds.includes(dog))));\r\n    }\r\n    else if(tempsBreeds.length) {\r\n      dispatch(setDisplayBreeds(tempsBreeds));\r\n    }\r\n    else {\r\n      dispatch(setDisplayBreeds(nameBreeds));\r\n    }\r\n    //eslint-disable-next-line\r\n  }, [filterByName, filterByTemperament]);\r\n\r\n  const filterBreedsByName = () => {\r\n    if(breedsByName.length) {\r\n      return breedsByName.filter(breed => {\r\n        return filterByName.includes(breed.id);\r\n      })\r\n    }\r\n    return breeds.filter(breed => {\r\n      return filterByName.includes(breed.id);\r\n    })\r\n  }\r\n\r\n  const filterBreedsTemps = () => {\r\n    if(breedsByName.length) {\r\n      return breedsByName.filter(breed => {\r\n        return filterByTemperament.every(temp => breed.temperaments?.indexOf(temp) >= 0);\r\n      })\r\n    }\r\n    return breeds.filter(breed => {\r\n      return filterByTemperament.every(temp => breed.temperaments?.indexOf(temp) >= 0);\r\n    })\r\n  }\r\n\r\n  const clearFilters = () => {\r\n    dispatch(setDisplayBreeds(breeds));\r\n    document.querySelectorAll('input[type=checkbox]').forEach(el => el.checked = false);\r\n    document.querySelector('input[type=text]').value = '';\r\n    document.querySelectorAll('select')[0].selectedIndex = 0;\r\n    dispatch(setByNameResponse(''));\r\n    dispatch(getBreedsByName(''));\r\n    setFilterByName([]);\r\n    setFilterByTemperament([]);\r\n  }\r\n\r\n  useEffect(() => {\r\n    document.querySelector('input[type=text]').value = '';\r\n  }, [clearFilters])\r\n\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.container}>\r\n        <div className={styles.sorts}><Sorts setPageNumber={setPageNumber}></Sorts></div>\r\n        <div className={styles.clearButton}><button onClick={clearFilters}>Clear Filters</button></div>\r\n\r\n        <div className={styles.filtersContainer}>\r\n          <div className={styles.nameContainer}>\r\n            <div className={styles.title}>Filter By Name</div>\r\n            <BreedName filterByName={filterByName} setFilterByName={setFilterByName} />\r\n          </div>\r\n          <div className={styles.temperamentContainer}>\r\n            <div className={styles.title}>Filter By Temperaments</div>\r\n            <Temperament filterByTemperament={filterByTemperament} setFilterByTemperament={setFilterByTemperament} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Filters;"],"mappings":"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"},"metadata":{},"sourceType":"module"}